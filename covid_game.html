<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>COVID Simulation</title>
    <link rel="stylesheet" href="css/style_game.css">
</head>
<body>
<div class="sidebar">
    <div class="Day">Day: <output id="turn_day"></output></div>
    <div class="speed">
        <div id="speed_output_wrapper">
            <output id="speed_out">1x</output>
        </div>
        <div class="button">
            <input id="speed_slower" type="button" onclick="change_speed(-1)" value="<<">
            <input id="speed_faster" type="button" onclick="change_speed(1)" value=">>">
        </div>
    </div>
</div>
<div class="board" id="board"></div>
<div class="control_panel">
    <div class="panel_button">
        <input id="button_stop" type="button" onclick="reset_simulation()" value="Stop">
    </div>
    <div class="panel_policy">
        <div class="each_policy">
            <img id="mask_show" class="policy mask" src="img/policy_icon/mask_off.png" alt="mask_required">
        </div>
        <div class="each_policy">
            <img id="lock_show" class="policy lock" src="img/policy_icon/lock_off.png" alt="lockdown">
        </div>
        <div class="each_policy">
            <img id="curfew_show" class="policy curfew" src="img/policy_icon/curfew_off.png" alt="curfew">
        </div>
        <div class="each_policy">
            <img id="online_show" class="policy online" src="img/policy_icon/online_off.png" alt="online_class">
        </div>
    </div>
</div>
<div id="popup_weekly" class="popup">
    <div class="popBg"></div>
    <div class="popInnerBox">
        <div class="popHead">Weekly Report<output></output></div>
        <div class="popBody">
            <div class="weekly_status">
                For day <output id="weekly_date_from">1</output> to <output id="weekly_date_to">7</output>, there were: <br>
                - <output id="weekly_new_infect">0</output> new patients were found. (<output id="weekly_change_infect">â–²0</output>)<br>
                - Total <output id="weekly_hospitalized">0</output> people are hospitalized for severe symptoms.<br>
                - <output id="weekly_death">0</output> people were dead due to insufficient medical service.<br>
                <br>
                - Local GDP was <output id="weekly_GDP_drop">dropped by 0</output> $. <br>
            </div> <br>
            <div class="weekly_chart">
                Weekly Chart<br>
                <div class="weekly_board">
                </div>
            </div>
            <div class="weekly_cmt">
                Experts suggest:<br>
                - Economist: "<output id="weekly_cmt_economy">No comments today, sir. Everything is fine.</output>"<br>
                - Epidemiologist: "<output id="weekly_cmt_epidemic">No comments today, sir. Everything is fine.</output>"<br>
            </div>
            <div class="weekly_policy">
                <div class="panel_policy">
                    <label>
                        <input id="policy_10" class="age_policy enable-on-pause" type="range" min="0.01" max="1" step="0.01">
                    </label>
                    <label>
                        <input id="policy_20" class="age_policy enable-on-pause" type="range" min="0.01" max="1" step="0.01">
                    </label>
                    <label>
                        <input id="policy_30" class="age_policy enable-on-pause" type="range" min="0.01" max="1" step="0.01">
                    </label>
                    <label>
                        <input id="policy_40" class="age_policy enable-on-pause" type="range" min="0.01" max="1" step="0.01">
                    </label>
                    <label>
                        <input id="policy_50" class="age_policy enable-on-pause" type="range" min="0.01" max="1" step="0.01">
                    </label>
                    <label>
                        <input id="policy_60" class="age_policy enable-on-pause" type="range" min="0.01" max="1" step="0.01">
                    </label>
                    <label>
                        <input id="policy_70" class="age_policy enable-on-pause" type="range" min="0.01" max="1" step="0.01">
                    </label>
                    <label>
                        <input id="policy_80" class="age_policy enable-on-pause" type="range" min="0.01" max="1" step="0.01">
                    </label>

                </div>
            </div>
            <div id="button_wrapper">
                <input id="button_resume" type="button" onclick="resume_simulation()" value="Resume">
            </div>
        </div>
    </div>
</div>
<div id="popup_result" class="popup">
    <div class="popBg"></div>
    <div class="popInnerBox">
        <div class="popHead">RESULT</div>
        <div class="popBody">
            <div class="popCommonVar">
                Elapsed time: <output id="resultTime"></output> seconds<br>
                Cumulative patient number: <output id="resultTotalInfected"></output><br>
                Max quarantined number: <output id="resultMaxQuarantined"></output> <br>
            </div>
            <div class="popChart"></div>
            <input type="button" onclick="request_log()" value="Log">
            <input id="exit" type="button" value="Exit">
        </div>
        <div class="popFoot">
        </div>
    </div>
</div>
<div id="popup_init" class="popup">
    <div class="popBg"></div>
    <div class="popBody">
        <div class="controls">
            <div class="control" id="init_setting">
                <p><label>Initial setting</label><br>Target population number, initial patient, etc.</p>
                <label>Target population number: <output id="node_num_output">500</output> people
                    <input id="node_num" type="range" min="1" max="2000" value="500" step="1" oninput="$('#node_num_output').text(value); $('#initial_patient').attr('max',value); $('#initial_patient').attr('value',1); $('#initial_patient_output').text(1);">
                </label>
                <label>Initial patient: <output id="initial_patient_output">5</output> people
                    <input id="initial_patient" type="range" min="1" max="100" value="5" step="1" oninput="$('#initial_patient_output').text(value);">
                </label>
                <label>Initial speed: <output id="speed_output">0.5</output>
                    <input id="speed" type="range" min="0" max="10" value="0.5" step="0.01" oninput="$('#speed_output').text(value);">
                </label>
                <label>Base transmission factor: <output id="TPC_base_output">0.5</output>
                    <input id="TPC_base" type="range" min="0" max="1" value="0.5" step="0.01" oninput="$('#TPC_base_output').text(value);">
                </label>
                <label>Maximum hospital capacity: <output id="hospital_max_output">0.01</output>
                    <input id="hospital_max" type="range" min="0" max="1" value="0.01" step="0.001" oninput="$('#hospital_max_output').text(value);">
                </label>
            </div>
            <div class="control" id="advanced_setting"></div>
            <div class="control" id="Simulation">
                <input id="button_start" type="button" onclick="start_simulation()" value="Start">
                <input id="advanced_button" type="button" onclick="advanced_setting()" value="Advanced setting">
            </div>
        </div>
    </div>
</div>
<script src="https://d3js.org/d3.v5.min.js"></script>
<script src="//unpkg.com/d3-force-surface/dist/d3-force-surface.min.js"></script>
<script src="//unpkg.com/underscore@1.12.0/underscore-min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="simNode_game.js"></script>
<script src="main_game.js"></script>
<script type="text/javascript">$("#popup_init").fadeIn();</script>
</body>
</html>
